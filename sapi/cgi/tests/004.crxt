--TEST--
execute a file with -f
--SKIPIF--
<?crx
include "skipif.inc";
?>
--FILE--
<?crx

include "include.inc";

$crx = get_cgi_path();
reset_env_vars();

$filename = __DIR__.'/004.test.crx';
$code ='
<?crx

class test {
    private $pri;
}

var_dump(test::$pri);
?>
';

file_put_contents($filename, $code);

if (defined("CRX_WINDOWS_VERSION_MAJOR")) {
    var_dump(`$crx -n -f "$filename"`);
} else {
    var_dump(`$crx -n -f "$filename" 2>/dev/null`);
}
var_dump(`$crx -n -f "wrong"`);

@unlink($filename);

echo "Done\n";
?>
--EXPECTF--
string(%d) "
<br />
<b>Fatal error</b>:  Uncaught Error: Cannot access private property test::$pri in %s004.test.crx:8
Stack trace:
#0 {main}
  thrown in <b>%s004.test.crx</b> on line <b>8</b><br />
"
string(25) "No input file specified.
"
Done
