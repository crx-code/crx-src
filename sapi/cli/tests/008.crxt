--TEST--
execute a file with -f
--SKIPIF--
<?crx
include "skipif.inc";
if (substr(CRX_OS, 0, 3) == 'WIN') {
    die ("skip not for Windows");
}
?>
--FILE--
<?crx

$crx = getenv('TEST_CRX_EXECUTABLE_ESCAPED');

$filename = __DIR__.'/008.test.crx';
$code ='
<?crx

class test {
    private $pri;
}

var_dump(test::$pri);
?>
';

file_put_contents($filename, $code);

var_dump(`$crx -n -f "$filename"`);
var_dump(`$crx -n -f "wrong"`);

@unlink($filename);

echo "Done\n";
?>
--EXPECTF--
string(%d) "

Fatal error: Uncaught Error: Cannot access private property test::$pri in %s:%d
Stack trace:
#0 {main}
  thrown in %s on line %d
"
Could not open input file: wrong
NULL
Done
