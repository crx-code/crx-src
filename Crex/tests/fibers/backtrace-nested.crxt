--TEST--
Backtrace in nested function call
--FILE--
<?crx

function suspend_fiber(): void
{
    \Fiber::suspend();
    throw new Exception;
}

$fiber = new Fiber(function (): void {
    suspend_fiber();
});

$fiber->start();

$fiber->resume();

?>
--EXPECTF--
Fatal error: Uncaught Exception in %sbacktrace-nested.crx:%d
Stack trace:
#0 %sbacktrace-nested.crx(%d): suspend_fiber()
#1 [internal function]: {closure}()
#2 %sbacktrace-nested.crx(%d): Fiber->resume()
#3 {main}
  thrown in %sbacktrace-nested.crx on line %d
