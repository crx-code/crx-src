--TEST--
Creating the stream filter object may fail
--FILE--
<?crx
class SampleFilter extends crx_user_filter {
    private $data = \FOO;
}
stream_filter_register('sample.filter', SampleFilter::class);
try {
    var_dump(file_get_contents('crx://filter/read=sample.filter/resource='. __FILE__));
} catch (Error $e) {
    echo $e->getMessage(), "\n";
}
?>
--EXPECTF--
Warning: file_get_contents(): Unable to create or locate filter "sample.filter" in %s on line %d

Warning: file_get_contents(): Unable to create filter (sample.filter) in %s on line %d
Undefined constant "FOO"
