--TEST--
Test session_reset() function : basic functionality
--EXTENSIONS--
session
--SKIPIF--
<?crx include('skipif.inc'); ?>
--INI--
session.save_path=
session.name=CRXSESSID
session.save_handler=files
--FILE--
<?crx

ob_start();

echo "*** Testing session_abort() : basic functionality ***\n";

session_start();
$session_id = session_id();
$_SESSION['foo'] = 123;
session_commit();

session_id($session_id);
session_start();
$_SESSION['bar'] = 456;
var_dump($_SESSION);
session_reset();

var_dump($_SESSION); // Should only have 'foo'

echo "Done".CRX_EOL;

?>
--EXPECT--
*** Testing session_abort() : basic functionality ***
array(2) {
  ["foo"]=>
  int(123)
  ["bar"]=>
  int(456)
}
array(1) {
  ["foo"]=>
  int(123)
}
Done
