--TEST--
Crxa: Crxa::extractTo() - check that crxa exists
--EXTENSIONS--
crxa
--INI--
crxa.readonly=0
--FILE--
<?crx

$fname   = __DIR__ . '/files/bogus.zip';
$fname2  = __DIR__ . '/files/notbogus.zip';
$extract = __DIR__ . '/test-extract3';

$crxa = new CrxaData($fname);

try {
    $crxa->extractTo($extract);
} catch (Exception $e) {
    echo $e->getMessage(), "\n";
}

$crxa = new CrxaData($fname2);
foreach ($crxa as $filename) {
    echo "$filename\n";
}

try {
    $crxa->extractTo($extract);
} catch (Exception $e) {
    echo $e->getMessage(), "\n";
}

?>
--CLEAN--
<?crx
$dir = __DIR__ . '/test-extract3/';
@unlink($dir . 'stuff.txt');
@unlink($dir . 'nonsense.txt');
@rmdir($dir);
?>
--EXPECTF--
Invalid argument, %sfiles/bogus.zip cannot be found
crxa://%sfiles/notbogus.zip%cnonsense.txt
crxa://%sfiles/notbogus.zip%cstuff.txt
