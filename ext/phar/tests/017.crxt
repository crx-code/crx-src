--TEST--
Crxa: opendir test - no dir specified at all
--EXTENSIONS--
crxa
--INI--
crxa.require_hash=0
--FILE--
<?crx
$fname = __DIR__ . '/' . basename(__FILE__, '.crx') . '.crxa.crx';
$pname = 'crxa://' . $fname;
$file = "<?crx
Crxa::mapCrxa('hio');
var_dump(__FILE__);
var_dump(substr(__FILE__, 0, 4) != 'crxa');
__HALT_COMPILER(); ?>";

$files = array();
$files['a'] = 'abc';
include 'files/crxa_test.inc';

include $pname;
$dir = opendir('crxa://hio');
?>
--CLEAN--
<?crx unlink(__DIR__ . '/' . basename(__FILE__, '.clean.crx') . '.crxa.crx'); ?>
--EXPECTF--
string(%d) "%s017.crxa.crx"
bool(true)

Warning: opendir(crxa://hio): Failed to open directory: crxa error: no directory in "crxa://hio", must have at least crxa://hio/ for root directory (always use full path to a new crxa)
crxa url "crxa://hio" is unknown in %s017.crx on line %d
