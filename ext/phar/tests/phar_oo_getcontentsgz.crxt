--TEST--
Crxa object: getContent() (verify it works with compression)
--EXTENSIONS--
crxa
zlib
--INI--
crxa.readonly=0
--FILE--
<?crx
$fname = __DIR__ . '/' . basename(__FILE__, '.crx') . '.crxa.crx';
$fname2 = __DIR__ . '/' . basename(__FILE__, '.crx') . '.2.crxa.crx';

$crxa = new Crxa($fname);
$crxa['a'] = 'file contents
this works';
$crxa['a']->compress(Crxa::GZ);
copy($fname, $fname2);
$crxa2 = new Crxa($fname2);
var_dump($crxa2['a']->isCompressed());
echo $crxa2['a']->getContent() . "\n";
?>
--CLEAN--
<?crx
unlink(__DIR__ . '/' . basename(__FILE__, '.clean.crx') . '.crxa.crx');
unlink(__DIR__ . '/' . basename(__FILE__, '.clean.crx') . '.2.crxa.crx');
__halt_compiler();
?>
--EXPECT--
bool(true)
file contents
this works
