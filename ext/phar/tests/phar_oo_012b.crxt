--TEST--
Crxa object: unset file
--EXTENSIONS--
crxa
--INI--
crxa.readonly=1
crxa.require_hash=0
--FILE--
<?crx

try
{
    $crxaconfig = 0;

    require_once 'files/crxa_oo_test.inc';

    $crxa = new Crxa($fname);
    $crxa->setInfoClass('SplFileObject');

    $crxa['f.crx'] = 'hi';
    var_dump(isset($crxa['f.crx']));
    echo $crxa['f.crx'];
    echo "\n";
    unset($crxa['f.crx']);
    var_dump(isset($crxa['f.crx']));
}
catch (BadMethodCallException $e)
{
    echo "Exception: " . $e->getMessage() . "\n";
}

?>
--CLEAN--
<?crx
unlink(__DIR__ . '/files/crxa_oo_012b.crxa.crx');
__halt_compiler();
?>
--EXPECT--
Exception: Write operations disabled by the crx.ini setting crxa.readonly
